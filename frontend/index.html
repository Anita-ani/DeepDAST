<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DeepDAST - Scanner</title>
  <link rel="stylesheet" href="static/style.css">
</head>
<body>
  <h1>DeepDAST Scanner</h1>

  <form id="scanForm">
    <input type="text" id="url" name="url" placeholder="Enter website URL" required>
    <button type="submit">Start Scan</button>
  </form>

  <div id="result"></div>

  <script>
    const form = document.getElementById("scanForm");
    const resultDiv = document.getElementById("result");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const url = document.getElementById("url").value;

      const formData = new FormData();
      formData.append("url", url);

      try {
        const response = await fetch("https://testphp.vulnweb.com", {
          method: "POST",
          body: formData
        });

        const result = await response.json();
        resultDiv.innerHTML = `
          <p>Status: ${result.status}</p>
          <p>URL: ${result.url}</p>
          <p>${result.message}</p>
        `;
      } catch (error) {
        resultDiv.innerHTML = "<p>Failed to contact scanner API.</p>";
      }
    });
  </script>
</body>
</html>
